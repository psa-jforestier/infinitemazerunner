<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infinite Maze Runner</title>
    <!-- Favicon for all devices -->
    <link rel="icon" type="image/png" href="favicon.png" sizes="any">
    <link rel="apple-touch-icon" href="favicon.png">
    <link rel="shortcut icon" href="favicon.png" type="image/png">
    <meta name="msapplication-TileImage" content="favicon.png">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #1a1a1a;
            font-family: 'Courier New', monospace;
            color: #fff;
        }

        #info {
            
            text-align: center;
        }

        #position {
            font-size: 10px;
            
        }

        #instructions {
            font-size: 10px;
            color: #888;
        }

        #gameCanvas {
            border: 3px solid #444;
            background-color: #000;
            image-rendering: pixelated;
            image-rendering: crisp-edges;
        }

        .controls {
            margin-top: 20px;
            font-size: 14px;
            color: #888;
        }

        #scoreboard {
            margin-top: 20px;
            font-size: 11px;
            color: #0af;
            font-family: 'Courier New', monospace;
            max-width: 400px;
            border: 1px solid #0af;
            padding: 10px;
            background-color: #0a0a0a;
        }

        #scoreboard h3 {
            margin: 0 0 10px 0;
            font-size: 12px;
            text-align: center;
            color: #0af;
        }

        .scoreboard-entry {
            display: flex;
            justify-content: space-between;
            padding: 2px 5px;
            border-bottom: 1px solid #0a4a4a;
        }

        .scoreboard-entry:last-child {
            border-bottom: none;
        }

        .scoreboard-rank {
            font-weight: bold;
            width: 25px;
        }

        .scoreboard-name {
            flex-grow: 1;
            text-align: left;
            padding: 0 10px;
        }

        .scoreboard-distance {
            text-align: right;
            width: 60px;
        }

        #deathOverlay {
            position: fixed;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 999;
        }

        #deathOverlay.hidden {
            display: none;
        }

        #deathPopup {
            background: #111;
            border: 1px solid #0af;
            padding: 18px 22px;
            min-width: 260px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.6);
        }

        #deathPopup h3 {
            font-size: 14px;
            margin-bottom: 10px;
            color: #0af;
        }

        #deathMessage {
            font-size: 12px;
            color: #ddd;
            margin-bottom: 12px;
        }

        #retryButton {
            background: #0a1f2a;
            color: #0af;
            border: 1px solid #0af;
            padding: 6px 12px;
            font-family: inherit;
            font-size: 12px;
            cursor: pointer;
        }

        #retryButton:hover {
            background: #0f2d3b;
        }
    </style>
</head>
<body>
    <div id="info">
        <span id="gameId" style="font-size: 10px; color: #666; margin-bottom: 10px;"></span> |
        <span id="otherPlayers" style="font-size: 10px; color: #666; margin-bottom: 10px;"></span> |
        <span id="playerId" style="font-size: 10px; color: #666; margin-bottom: 10px;"></span>
        <div id="position">Position: (0, 0) | Distance: 0</div>
        <span id="countdownId">20.0s</span>
        <div id="instructions">Use Arrow Keys, WASD, Mouse, or Touch to move</div>
    </div>
    <canvas id="gameCanvas" width="320" height="320"></canvas>
    <div class="controls">
        Press R to reset | Move mouse/touch near player to navigate
    </div>
    <div id="scoreboard">
        <h3>üèÜ Top 10 Players üèÜ</h3>
        <div id="scoreboardList"></div>
    </div>

    <div id="deathOverlay" class="hidden" aria-hidden="true">
        <div id="deathPopup" role="dialog" aria-live="polite">
            <h3>Game Over</h3>
            <div id="deathMessage">You died.</div>
            <button id="retryButton" type="button">Retry</button>
        </div>
    </div>
<hr>
<h1>Infinite Maze Runner</h1>
<p>
    Can you escape from this infinite maze ? Sure, you can't, but try to run as far as possible, farest than the other players.<br/>
    <a href="https://github.com/psa-jforestier/infinitemazerunner">Source code on GitHub</a><br/>
</p>
    <!-- Load modular JavaScript files -->
    <script src="js/config.js"></script>
    <script src="js/chunks.js"></script>
    <script src="js/maze.js"></script>
    <script src="js/gameState.js"></script>
    <script src="js/renderer.js"></script>
    <script src="js/input.js"></script>
    <script src="js/server.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
